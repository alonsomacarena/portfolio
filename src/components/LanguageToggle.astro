---
const lang = Astro.params.lang || 'es';
const nextLang = lang === 'es' ? 'en' : 'es';
const path = Astro.url.pathname;

// Rutas equivalentes entre idiomas
const routeMap = {
  'es': {
    '': '',
    'proyectos': 'work',
    'sobre-mi': 'about-me'
  },
  'en': {
    '': '',
    'work': 'proyectos',
    'about-me': 'sobre-mi'
  }
};

// Extraer el segmento luego del idioma
const segments = path.split('/').filter(Boolean); 
const currentSlug = segments[1] || '';
const translatedSlug = routeMap[lang][currentSlug] || '';

const newPath = `/${nextLang}/${translatedSlug}`;
---

<a href={newPath} class="language-toggle">
  {lang === 'es' ? 'EN' : 'ES'}
</a>

<style>
  a {
    color: var(--gray-200);
    text-decoration: none;
    border-radius: 50px;
    border: 0.5px solid var(--gray-200);
    padding: 8px;
  }
</style>
